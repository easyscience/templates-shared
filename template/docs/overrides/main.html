{% extends "base.html" %}

{% block content %}
{% if page.nb_url %}
  {# Derive pieces once #}
  {% set tutorial_name = page.nb_url.split('/')[-2] %}
  {% set filename = page.nb_url.split('/')[-1] %}

  {# Open in Colab (absolute GitHub URL; works anywhere) #}
  <a href="https://colab.research.google.com/github/easyscience/diffraction-lib/blob/gh-pages/{{ config.extra.vars.docs_version }}/tutorials/{{ tutorial_name }}/{{ filename }}"
     title="Open in Google Colab"
     class="md-content__button md-icon">
    {% include ".icons/google-colab.svg" %}
  </a>

  {# Download: use a RELATIVE link to the file next to this page #}
  <a href="{{ filename }}"
     download="{{ filename }}"
     title="Download Notebook"
     class="md-content__button md-icon">
    {% include ".icons/material/download.svg" %}
  </a>
{% endif %}

{{ super() }}
{% endblock content %}
